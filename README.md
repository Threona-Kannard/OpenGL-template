# OpenGL Visual Studio Code template

#### This is a template project for OpenGL with debug config on Visual Studio Code

> This template supports:
>
> * OpenGL 4.6 or below
> * OpenGL ES 3.2 or below
> * OpenGL SC 2.0 or below

<h2><b>Tutorial</b></h2>

<h3 style="text-align:left"><b>Repair</b></h3>

Firstly, please ensure that your Visual Studio Code had been installed the `C/C++ Extension` . Following the instruction below if you haven't install it.

1. Open VS Code and choose <b>Extension</b> on the side menu.

   ![Extension](https://user-images.githubusercontent.com/66297538/118797279-9f43fb00-b8c6-11eb-89d8-6fa0865bebc0.png)
   
2. Search the name "C/C++" and download the first one.

   ![C++ Extension](https://user-images.githubusercontent.com/66297538/118797363-b682e880-b8c6-11eb-8d2a-cf556c2a0ca8.png)


   <b><u>Note:</u></b> Visual Studio Code provide a lot of extensions to make your coding more comfortable. See them  <a href="https://blog.logrocket.com/top-10-vs-code-extensions-2021/#importcost">here</a>.

Next, you must download a C++ compiler to compile code on Visual Studio Code. In this document, I use MinGW x64 (download <a href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/" target="_blank">here</a>):

![MinGW download](https://user-images.githubusercontent.com/66297538/118797421-c4d10480-b8c6-11eb-9a1c-28b22cfdf435.png)


Then you download my source code in this git repository.

And the folder will be like this

![folder tree](https://user-images.githubusercontent.com/66297538/118797470-d1555d00-b8c6-11eb-99ca-3daeedb83fa1.png)


Open folder <b>.vscode</b> and add the path to your `MinGW-x64/bin`  and `yourProgramName` into 3 files

> * launch.json
> * tasks.json
> * c_cpp_properties.json

##### 1. launch.json

![launch.json](https://user-images.githubusercontent.com/66297538/118797521-e0d4a600-b8c6-11eb-8d44-c1c13208611a.png)


##### 2. tasks.json

![tasks.json](https://user-images.githubusercontent.com/66297538/118797557-eaf6a480-b8c6-11eb-8ece-fc08aff90bc4.png)

##### 3. c_cpp_properties

![c_cpp_properties](https://user-images.githubusercontent.com/66297538/118797596-f6e26680-b8c6-11eb-8191-6a764ed0c233.png)


Then you enter the path to your shader source into `Main.cpp`

![Shader source path](https://user-images.githubusercontent.com/66297538/118797645-03ff5580-b8c7-11eb-8149-0b49f9331330.png)


<u>Example:</u> `{path of your disk}\\\OpenGL-template\\\src`

<h3 style="text-align:left"><b>Config build</b></h3>

For configuring the build, let's see through the file **tasks.json**

**<u>Note:</u>** Here is the config build for Window only (Linux and MacOS will be updated later)

```json
{
    "tasks": [
        {
            "type": "shell",
            "label": "C/C++: g++.exe build active file",
            "command": "{The path to g++.exe in MinGW/bin}",
            "args": [
                "-g",
                "-std=c++17",
                "-I${workspaceFolder}/include",
                "-L${workspaceFolder}/lib",
                "${workspaceFolder}/src/Main.cpp",
                "${workspaceFolder}/src/glad.c",
                "${workspaceFolder}/include/source/*.cpp",
                "-lglfw3dll",
                "-o",
                "${workspaceFolder}/build/{YourProgramName}.exe"
            ],
            "options": {
                "cwd": "{The path to MinGW/bin}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ],
    "version": "2.0.0"
}
```

<b><u>Brief explanation of keys</u></b>

* **${workspaceFolder}** :  the folder is openning at workspace mode in Visual Studio Code.

* <u>**type**</u> : The task's type. This can either be <b style="color:red">`shell`</b> or <b style="color:red">`process`</b>. If <b style="color:red">`shell`</b> is specified, the command is interpreted as a shell command (ex: bash, cmd or PowerShell). If <b style="color:red">`process`</b> is specified, the command is interpreted as a process to execute (ex: node.exe, npm,...).

* **<u>label</u>** : The task's label used in the user interface. It is the same with the task's name.

* **<u>command</u>** : The actual command to execute.

* **<u>args</u>** : list arguments will be passed into the command.

  * "-g" : g++ will generate debug information to be used by GDB debugger.

  * "-std=c++17" : choose the default compiler which support C++17

  * "-I${workspaceFolder}/include" : adding include directory of header files

  * "-L${workspaceFolder}/lib" : adding libraries directory.

  * ["${workspaceFolder}/src/Main.cpp" ,

      "${workspaceFolder}/src/glad.c",

      "${workspaceFolder}/include/source/*.cpp"] : Adding the main file, glad and our code in <u>include/source</u> folder to compile process.

  * "-lglfw3dll" : Link with the glfw3.dll file.

  * "-o" : gcc will generate the compiled object into the file which will define in next argument.

  * "${workspaceFolder}/build/{YourProgramName}.exe" : define where the gernerated file will be placed and the name of it.

* **<u>options</u>** : Override the defaults for `cwd` (current working directory), `env` (environment variables), or `shell` (default shell). Options can be set per task but also globally or per platform. Environment variables configured here can only be referenced from within your task script or process and will not be resolved if they are part of your args, command, or other task attributes.

* **<u>problemMatcher</u>** : add the C++ lint to the compile process.

* **<u>group</u>** : Defines to which group the task belongs.

  <h3 style="text-align:left"><b>Run the code</b></h3>

Before you run, please ensure that you have been added the path to `MinGW/bin` into the file `launch.json`

Then open the file `Main.cpp` and press `F5` to build and run the program.

<h3 style="text-align:left"><b>Debug</b></h3>

You just do at the same with Visual Studio.

I. Create your breakpoint by two ways :

1. Click on the red circle on the left of row number.

![Place breakpoint](https://user-images.githubusercontent.com/66297538/118797730-14afcb80-b8c7-11eb-89fe-99d4405dbc4d.png)


2. Choose the row you want to place the breakpoint and press `F9` 

II. Build and run the program by press `F5`

III. Let's debug

* `F6` : Pause
* `F10` : Step Over
* `F11` : Step Into
* `Shift + F11` : Step Out
* `Ctrl + Shift + F5` : Restart
* `Shift + F5` : Stop

Visual Studio Code not only provide us the a area to visualize the `variables` , `stack`, `breakpoint` but also they have a `Debug Console` for us.

![Debug](https://user-images.githubusercontent.com/66297538/118797799-209b8d80-b8c7-11eb-8e5b-f58356a878e9.png)




## Thank you for reading this document

<h4 style="text-align:center; font-family:time New Roman">
    <div><b><u>Contact me</u></b></div>
    <div>Tan Phat Huynh</div>
    <div>phattanhuynh1324@gmail.com</div></h4>
